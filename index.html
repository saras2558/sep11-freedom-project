<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>My first three.js app</title>
	   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" />
		<style>
			body { margin: 0; }
		</style>
	</head>
	<body>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

		<script>



 
			var container;
			var camera;
			var scene;
			var renderer;
			var shapes = [];
		    var x = -25;
			var y = -250;
			init();
			onDocumentMouseMove();

			function init(){
			  container = document.createElement( 'div' );
			  document.body.appendChild( container );
			  scene = new THREE.Scene();
			  camera = new THREE.PerspectiveCamera( 50, window.innerWidth / window.innerHeight, 1, 1000 );
			  camera.position.set( 0, 150, 500 );
			  scene.add( camera );


		

			  // the curves of the shape
			  var heartShape = new THREE.Shape();
			 // heartShape.moveTo(x + 2.5, y + 2.5);
				// heartShape.bezierCurveTo(x + 5, y + 2.5, x + 2, y, x, y);
				// heartShape.bezierCurveTo(x - 3, y, x - 3, y + 3.5, x - 3, y + 3.5);
				// heartShape.bezierCurveTo(x - 3, y + 5.5, x - 1.5, y + 7.7, x + 2.5, y + 9.5);
				// heartShape.bezierCurveTo(x + 6, y + 7.7, x + 8, y + 4.5, x + 8, y + 3.5);
				// heartShape.bezierCurveTo(x + 8, y + 3.5, x + 8, y, x + 5, y);
				// heartShape.bezierCurveTo(x + 3.5, y, x + 2.5, y + 2.5, x + 2.5, y + 2.5);



				heartShape.moveTo(x + 25, y + 25);
			heartShape.bezierCurveTo(x + 25, y + 25, x + 20, y, x, y);
			heartShape.bezierCurveTo(x - 30, y, x - 30, y + 35,x - 30, y + 35);
			heartShape.bezierCurveTo(x - 30, y + 55, x - 10, y + 77, x + 25, y + 95);
			heartShape.bezierCurveTo(x + 60, y + 77, x + 80, y + 55, x + 80, y + 35);
			heartShape.bezierCurveTo(x + 80, y + 35, x + 80, y, x + 50, y);
			heartShape.bezierCurveTo(x + 35, y, x + 25, y + 25, x + 25, y + 25);

			var settings = { depth: 2, bevelEnabled: true, bevelSegments: 20, steps: 2, bevelSize: 20, bevelThickness: 30 };

					// addShape(heartShape, settings, 'red', 100, 200, 0, 2.3, 10, Math.PI, 0.3  );
				 //   addShape(heartShape, settings, 'red', 200, 300, 0, 1.3, 0.9, Math.PI, 0.3  );
					// addShape(heartShape, settings, 'red', 50, 60, 0, 1.3, 0.9, Math.PI, 0.3  );
					// addShape(heartShape, settings, 'red', 300, 105, 0, 1.3, 0.9, Math.PI, 0.3  );
					// addShape(heartShape, settings, 'red', 10, 5, 0, 1.3, 0.9, Math.PI, 0.3  );



			 for (var i=-window.innerWidth/2; i<window.innerWidth/2; i+=100){
			    for (var l=0; l<window.innerHeight; l+=60 + Math.random()* 50){
			      addShape( heartShape,  settings, 'red',   i, l, 5, Math.random()*0.8, Math.random()*0.8, Math.PI, 0.2+Math.random()*0.4 );
			    }
			  }

			// the light reflected on the shape
			  var light = new THREE.DirectionalLight(0x9955ff, 2);
			  light.position.x = -500;
			  light.position.y = 500;
			  camera.add( light );

			  var light = new THREE.DirectionalLight(0x9955ff, 5);
			  light.position.x = 500;
			  light.position.y = -500;
			  light.position.z = -150;
			  camera.add( light );

			  scene.background = new THREE.Color( 'black' ); // background color

			 
			  var heartShape = new THREE.Shape();
			  heartShape.moveTo( x + 50, y + 50 );

			  renderer = new THREE.WebGLRenderer( { antialias: true } );
			  renderer.setPixelRatio( window.devicePixelRatio );
			  renderer.setSize( window.innerWidth, window.innerHeight );
			  container.appendChild( renderer.domElement );

			  render();
			  


		}

		var controls = new OrbitControls( camera, renderer.domElement );
			controls.target.set( 0, 0.5, 0 );
			controls.update();
			controls.enablePan = false;
			controls.enableDamping = true;






			function addShape( shape, settings , color, x, y, z, rx, ry, rz, s ) {
			  var geometry = new THREE.ExtrudeGeometry( shape, settings );
			  var mesh = new THREE.Mesh( geometry, new THREE.MeshPhongMaterial( { color: color } ) );
			  mesh.position.set( x+1, y-4, z );
			  mesh.rotation.set( rx, ry, rz );
			  mesh.scale.set( s, s, s );
			  shapes.push({shape: mesh, x, y, z});
			  scene.add(mesh);
			}


			// the movement
			function animate() {
			  var theSpeed = 0.0001;
			  shapes.forEach(el => {
			    el.shape.rotation.y += el.y * theSpeed; // the rotation
			  });
			}


			// needed for the scene
			function render() {
			    requestAnimationFrame(render);
			    animate();
			    renderer.render(scene, camera);
			}







			// something that didn't work

		 //var light = new THREE.DirectionalLight(0x9955ff, 2);
			//   light.position.x = -500;
			//   light.position.y = 500;
			//   camera.add( light );

			//   var light = new THREE.DirectionalLight(0x9955ff, 1);
			//   light.position.x = 500;
			//   light.position.y = -500;
			//   light.position.z = -150;
			//   camera.add( light );



			// var x = 0;
			// var y = 0;

			// var heart = new Three.shape();
			// heart.moveTo (x + 25, y + 25);
			// heart.bezierCurveTo(x + 25, y + 25, x + 20, y, x, y);
			// heart.bezierCurveTo(x - 30, y, x - 30, y + 35,x - 30, y + 35);
			// heart.bezierCurveTo(x - 30, y + 55, x - 10, y + 77, x + 25, y + 95);
			// heart.bezierCurveTo(x + 60, y + 77, x + 80, y + 55, x + 80, y + 35);
			// heart.bezierCurveTo(x + 80, y + 35, x + 80, y, x + 50, y);
			// heart.bezierCurveTo(x + 35, y, x + 25, y + 25, x + 25, y + 25);


			// var setting = {amount: 200, bevelEnabled: true, bevelEnabled: 2, steps: 2, bevelSize: 1, bevelThickness: 1};

			// geometry = new THREE.ExtrudeGeomtry(heart, setting);

			// var materials = new THREE.MeshLambertMaterial({color: 0xF3FFE2});

			// var mesh = new THREE.Mesh(geometry, materials);

			// mesh.position.z = -1000;

			// scene.add(mesh);




		</script>
	</body>
</html>