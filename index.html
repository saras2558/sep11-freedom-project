<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
		</style>
	</head>
	<body>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

		<script>




			var container, stats;
			var camera, scene, renderer;
			var group, shapes = [];
			init();

			function init(){
			  container = document.createElement( 'div' );
			  document.body.appendChild( container );
			  scene = new THREE.Scene();
			  camera = new THREE.PerspectiveCamera( 50, window.innerWidth / window.innerHeight, 1, 1000 );
			  camera.position.set( 0, 150, 500 );
			  scene.add( camera );


			// the light reflected on the shape
			  var light = new THREE.DirectionalLight(0x9955ff, 2);
			  light.position.x = -500;
			  light.position.y = 500;
			  camera.add( light );

			  var light = new THREE.DirectionalLight(0x9955ff, 4);
			  light.position.x = 500;
			  light.position.y = -500;
			  light.position.z = -150;
			  camera.add( light );

			  scene.background = new THREE.Color( '#c70e1d' );

			  var x = -25, y = -250;
			  var heartShape = new THREE.Shape();
			  heartShape.moveTo( x + 25, y + 25 );

			  // the curves of the shape
			  var x = -25, y = -250;
			  var heartShape = new THREE.Shape();
			 // heartShape.moveTo(x + 2.5, y + 2.5);
				// heartShape.bezierCurveTo(x + 5, y + 2.5, x + 2, y, x, y);
				// heartShape.bezierCurveTo(x - 3, y, x - 3, y + 3.5, x - 3, y + 3.5);
				// heartShape.bezierCurveTo(x - 3, y + 5.5, x - 1.5, y + 7.7, x + 2.5, y + 9.5);
				// heartShape.bezierCurveTo(x + 6, y + 7.7, x + 8, y + 4.5, x + 8, y + 3.5);
				// heartShape.bezierCurveTo(x + 8, y + 3.5, x + 8, y, x + 5, y);
				// heartShape.bezierCurveTo(x + 3.5, y, x + 2.5, y + 2.5, x + 2.5, y + 2.5);



				heartShape.moveTo(x + 25, y + 25);
			heartShape.bezierCurveTo(x + 25, y + 25, x + 20, y, x, y);
			heartShape.bezierCurveTo(x - 30, y, x - 30, y + 35,x - 30, y + 35);
			heartShape.bezierCurveTo(x - 30, y + 55, x - 10, y + 77, x + 25, y + 95);
			heartShape.bezierCurveTo(x + 60, y + 77, x + 80, y + 55, x + 80, y + 35);
			heartShape.bezierCurveTo(x + 80, y + 35, x + 80, y, x + 50, y);
			heartShape.bezierCurveTo(x + 35, y, x + 25, y + 25, x + 25, y + 25);

			var settings = { amount: 1, bevelEnabled: true, bevelSegments: 20, steps: 2, bevelSize: 10, bevelThickness: 50 };


		for (var i=-window.innerWidth/2; i<window.innerWidth/2; i+=60){
	    	for (var l=0; l<window.innerHeight; l+=60){
	    	 addShape( heartShape,  settings, '#f71e1e',   i, l, 0, 0.8, 0.8, Math.PI, 0.1+0.3 );
			 }
		 }

			  renderer = new THREE.WebGLRenderer( { antialias: true } );
			  renderer.setPixelRatio( window.devicePixelRatio );
			  renderer.setSize( window.innerWidth, window.innerHeight );
			  container.appendChild( renderer.domElement );

			  render();

		}

			function addShape( shape, settings , color, x, y, z, rx, ry, rz, s ) {
			  var geometry = new THREE.ExtrudeGeometry( shape, settings );
			  var mesh = new THREE.Mesh( geometry, new THREE.MeshPhongMaterial( { color: color } ) );
			  mesh.position.set( x+25, y-50, z );
			  mesh.rotation.set( rx, ry, rz );
			  mesh.scale.set( s, s, s );
			  shapes.push({shape: mesh, x, y, z});
			  scene.add(mesh);
			}


			// the movment
			function animate() {
			  var theSpeed = 0.0001;
			  shapes.forEach(el => {
			    el.shape.rotation.y += el.y * theSpeed; // the rotation
			  });
			}


			// needed for the scene
			function render() {
			    requestAnimationFrame(render);
			    animate();
			    renderer.render(scene, camera);
			}







			// something that didn't work

		 //var light = new THREE.DirectionalLight(0x9955ff, 2);
			//   light.position.x = -500;
			//   light.position.y = 500;
			//   camera.add( light );

			//   var light = new THREE.DirectionalLight(0x9955ff, 1);
			//   light.position.x = 500;
			//   light.position.y = -500;
			//   light.position.z = -150;
			//   camera.add( light );



			// var x = 0;
			// var y = 0;

			// var heart = new Three.shape();
			// heart.moveTo (x + 25, y + 25);
			// heart.bezierCurveTo(x + 25, y + 25, x + 20, y, x, y);
			// heart.bezierCurveTo(x - 30, y, x - 30, y + 35,x - 30, y + 35);
			// heart.bezierCurveTo(x - 30, y + 55, x - 10, y + 77, x + 25, y + 95);
			// heart.bezierCurveTo(x + 60, y + 77, x + 80, y + 55, x + 80, y + 35);
			// heart.bezierCurveTo(x + 80, y + 35, x + 80, y, x + 50, y);
			// heart.bezierCurveTo(x + 35, y, x + 25, y + 25, x + 25, y + 25);


			// var setting = {amount: 200, bevelEnabled: true, bevelEnabled: 2, steps: 2, bevelSize: 1, bevelThickness: 1};

			// geometry = new THREE.ExtrudeGeomtry(heart, setting);

			// var materials = new THREE.MeshLambertMaterial({color: 0xF3FFE2});

			// var mesh = new THREE.Mesh(geometry, materials);

			// mesh.position.z = -1000;

			// scene.add(mesh);




		</script>
	</body>
</html>